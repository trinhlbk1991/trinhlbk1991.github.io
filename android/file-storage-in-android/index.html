<!DOCTYPE html><html lang="en-US" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>File Storage in Android | Iced Tea Labs</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Iced Tea Labs"><meta name="application-name" content="Iced Tea Labs"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-48722139-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-48722139-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/images/ic_iced_tea_labs.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Iced Tea Labs</a></div><div class="site-subtitle">Glasses üëì Geek üíª Backpacker üéí Climber üßó‚Äç‚ôÇÔ∏è</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/trinhlbk1991" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/trinhlbk1991" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['trinhlbk1991','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/trinhlbk1991/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/categories/android/"> Android </a> </span> <span>File Storage in Android</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>File Storage in Android</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> trinh_le </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Sun, Jul 19, 2015, 4:22 PM +0700" prep="on" > Jul 19, 2015 <i class="unloaded">2015-07-19T16:22:00+07:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Aug 1, 2021, 12:49 PM +0700" prefix="Updated " > Aug 1, 2021 <i class="unloaded">2021-08-01T12:49:51+07:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="829 words">4 min</span></div></div><div class="post-content"><p>In a very old post (<a href="http://icetea09.com/blog/2014/03/04/android-save-data-to-file/" target="_blank">Save Data To File</a>), I wrote about writing data to and reading data from internal file storage. And that is a very very simple post about working with File Storage in Android. <br /> In this post, I‚Äôll show you a deeper look into the Android file storage and how to perform file-related tasks.</p><h2>A - Internal Storage vs External Storage</h2><p>All Android devices has 2 file storage areas:</p><ul><li>Internal Storage: a built-in, non-violated memory for individual app<li>External Storage: a removable storage such as SD card. But nowadays, many devices divide its permanent memory into 2 part internal and external, in this case, external storage is not a "<em>removable storage</em>".</ul><p>Comparison:</p><div class="table-wrapper"><table><tbody><tr><td style="background-color: #8bc34a;">Internal Storage<td style="background-color: #8bc34a;">External Storage<tr><td>Always available<td>¬†Only available if the removable storage was mounted into the device<tr><td>By default, the internal storage is only accessible by its own application<td>¬†Word-readable<tr><td>If user uninstall the application, every data in internal storage will be deleted<td>If user uninstall the application, all the data which was not stored in <strong>getExternalFileDir()</strong> folder will remain</table></div><h2>B - Work with Internal Storage</h2><h3>1. Write File</h3><p>Firstly, you have to call¬†<strong>Context.openFileOutput()</strong> method to open a file in internal storage and return a¬†<strong>FileOutputStream</strong> (create new file if it doesn‚Äôt exist):</p><pre class="lang:default decode:true ">FileOutputStream fos = context.openFileOutput(fileName, Context.MODE_PRIVATE);</pre><p>This method takes 2 parameters:</p><ul><li>name: the file's name<li>mode:¬†writing mode<ul><li><strong>MODE_PRIVATE</strong> : file can be accessed only ¬†by the application which created it<li><strong>MODE_WORLD_READALBE</strong> : That file can be read by any application<li><strong>MODE_WORLD_WRITABLE</strong> : That file can be read and written by any application</ul></ul><p>Then, you can write the data in bytes format to created file and remember to close the stream after wrote:</p><pre class="lang:default decode:true ">public static void writeToInternalStorage(Context context, String fileName, byte[] data)
        throws IOException {
    FileOutputStream fos = context.openFileOutput(fileName, Context.MODE_PRIVATE);
    fos.write(data);
    fos.close();
}</pre><h3>2. Read File</h3><p>In order to read data from a file, you must create a <strong>FileInputStream</strong> object by calling <strong>openFileInput()</strong> method:</p><pre class="lang:default decode:true ">FileInputStream fis = context.openFileInput(fileName);</pre><p>This method takes file name as the only parameter.</p><p>Then, you can read data in bytes format from the input stream and remember to close it after read:</p><pre class="lang:default decode:true">public static byte[] readFromInternalStorage(Context context, String fileName)
        throws IOException {
    FileInputStream fis = context.openFileInput(fileName);
    byte[] result = getBytesArrayFromInputStream(fis);
    fis.close();
    return result;
}

/***
* Return a bytes array from the InputStream
*/
private static byte[] getBytesArrayFromInputStream(InputStream input) throws IOException {
    byte[] buffer = new byte[8192];
    int bytesRead;
    ByteArrayOutputStream output = new ByteArrayOutputStream();
    while ((bytesRead = input.read(buffer)) != -1) {
        output.write(buffer, 0, bytesRead);
    }
    return output.toByteArray();
}</pre><h2>C - Work with External Storage</h2><h3>1. Check External Storage Availability</h3><p>Because the external storage is not always available, to make sure the application works properly, we have to check if the external storage is available or not:</p><pre class="lang:default decode:true">public static boolean isExternalStorageWritable() {
    String state = Environment.getExternalStorageState();
    if (Environment.MEDIA_MOUNTED.equals(state)) {
        return true;
    }
    return false;
}

public static boolean isExternalStorageReadable() {
    String state = Environment.getExternalStorageState();
    if (Environment.MEDIA_MOUNTED.equals(state) ||
            Environment.MEDIA_MOUNTED_READ_ONLY.equals(state)) {
        return true;
    }
    return false;
}</pre><h3>2. Write File</h3><p>In external storage, we have 2 types of directory:</p><ul><li>Public:¬†when the application was uninstalled, all the data in this directory will remain.¬†You can refer to this directory using <strong>Environment.getExternalStoragePublicDirectory()</strong>¬†method.<li>Private: when the application was uninstalled, all the data in this directory will be deleted. You can refer to this directory using <strong>Context.getExternalFileDir()</strong> method.</ul><p>You usually use public directory to store the data that can be used by other application (captured photos, downloaded files,‚Ä¶) and private directory for the data that is only meaningful to your app.</p><p>To write data to external storage:</p><ul><li>Open or create selected file<li>Create Output Stream for that file<li>Write data<li>Close the stream after wrote</ul><pre class="lang:default decode:true"> public static void writeToExternalPublicFile(String dirType, String fileName, byte[] data)
        throws IOException {
    File file = new File(Environment.getExternalStoragePublicDirectory(dirType), fileName);
    file.createNewFile();
    FileOutputStream fos = new FileOutputStream(file);
    fos.write(data);
    fos.close();
}

public static void writeToExternalPrivateFile(Context context, String dirType, String fileName, byte[] data)
        throws IOException {
    File file = new File(context.getExternalFilesDir(dirType), fileName);
    file.createNewFile();
    FileOutputStream fos = new FileOutputStream(file);
    fos.write(data);
    fos.close();
}</pre><h3>3. Read File</h3><p>To read¬†data to external storage:</p><ul><li>Open the selected file<li>Create Input¬†Stream for that file<li>Read¬†data from the Input Stream<li>Close the stream after¬†read</ul><pre class="lang:default decode:true">public static byte[] readFromExternalPublicFile(String dirType, String fileName)
        throws IOException {
    File file = new File(Environment.getExternalStoragePublicDirectory(dirType), fileName);
    FileInputStream fis = new FileInputStream(file);
    byte[] result = getBytesArrayFromInputStream(fis);
    fis.close();
    return result;
}

public static byte[] readFromExternalPrivateFile(Context context, String dirType, String fileName)
        throws IOException {
    File file = new File(context.getExternalFilesDir(dirType), fileName);
    FileInputStream fis = new FileInputStream(file);
    byte[] result = getBytesArrayFromInputStream(fis);
    fis.close();
    return result;
}</pre><h2>D¬†- Demo Application and Source Code</h2><p>To apply the above codes, we will make a small demo application to show you how to work with File Storage in Android.</p><p>The application has 4 button to invoke different functions about read and write data in internal and external storage and a text view to display result:</p><p><img class="aligncenter" src="https://github.com/trinhlbk1991/DemoFileStorage/blob/master/images/demostorage4.PNG?raw=true" alt="File Storage in Android" /></p><p>After run the application, you can look up the file in device‚Äôs storage:</p><p>Internal:</p><p><img class="aligncenter" src="https://github.com/trinhlbk1991/DemoFileStorage/blob/master/images/demostorage2.PNG?raw=true" alt="File Storage in Android" /></p><p><img class="aligncenter" src="https://github.com/trinhlbk1991/DemoFileStorage/blob/master/images/demostorage3.PNG?raw=true" alt="File Storage in Android" /></p><p>External:</p><p><img class="aligncenter" src="https://github.com/trinhlbk1991/DemoFileStorage/blob/master/images/demostorage1.PNG?raw=true" alt="File Storage in Android" /></p><p>The whole source code can be found at my Github:</p><p><a href="https://github.com/trinhlbk1991/DemoFileStorage" target="_blank">https://github.com/trinhlbk1991/DemoFileStorage</a></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>android</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/android-database/" class="post-tag no-text-decoration" >Android Database</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=File Storage in Android - Iced Tea Labs&url=https://icedtealabs.com//android/file-storage-in-android/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=File Storage in Android - Iced Tea Labs&u=https://icedtealabs.com//android/file-storage-in-android/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=File Storage in Android - Iced Tea Labs&url=https://icedtealabs.com//android/file-storage-in-android/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"> <span>Our Products</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="https://play.google.com/store/apps/details?id=com.icetea09.bucketlist"><div class="d-flex align-items-center"> <img src="/assets/images/buckist.png" width="50" height="50" /><div><strong>Buckist</strong> - Best bucket list app</div></div></a> <a class="post-tag" href="https://play.google.com/store/apps/details?id=com.icedtealabs.mymoney"><div class="d-flex align-items-center"> <img src="/assets/images/mymoney.png" width="50" height="50" /><div><strong>myMoney</strong> - Expense Manager</div></div></a> <a class="post-tag" href="https://play.google.com/store/apps/details?id=com.icedtealabs.moon"><div class="d-flex align-items-center"> <img src="https://play-lh.googleusercontent.com/fh1U3sqmhbWWRiS6fjh4caslBlE86ZlJBgucayR5wko743aM_U143sHPLTVZvJuHZA=s360-rw" width="50" height="50" /><div><strong>Moon</strong> - Blue light filter, night mode</div></div></a></div></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android-ui/">Android UI</a> <a class="post-tag" href="/tags/custom-view/">Custom View</a> <a class="post-tag" href="/tags/animation/">Animation</a> <a class="post-tag" href="/tags/android-database/">Android Database</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/dagger/">Dagger</a> <a class="post-tag" href="/tags/dependency-injection/">Dependency Injection</a> <a class="post-tag" href="/tags/facebook/">Facebook</a> <a class="post-tag" href="/tags/fragment/">Fragment</a> <a class="post-tag" href="/tags/hilt/">Hilt</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/android/android-use-existing-sqlite-database-in-android-app/"><div class="card-body"> <span class="timeago small" > Jan 22, 2014 <i class="unloaded">2014-01-22T10:40:00+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Use Existing SQLite Database in Android App</h3><div class="text-muted small"><p> In my previous post about SQLite , I only post the way to create database when application started. In reality, we do not only need a database to store data but also need one to read information f...</p></div></div></a></div><div class="card"> <a href="/android/android-save-data-to-file/"><div class="card-body"> <span class="timeago small" > Mar 4, 2014 <i class="unloaded">2014-03-04T09:34:00+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Save Data To File</h3><div class="text-muted small"><p> Storing application data is one of the most important part in Android development. And the easiest way to do that is saving data to a file. In this post, I will show you how to save and read data ...</p></div></div></a></div><div class="card"> <a href="/android/android-couchbase-lite/"><div class="card-body"> <span class="timeago small" > May 15, 2015 <i class="unloaded">2015-05-15T22:39:00+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Couchbase Lite</h3><div class="text-muted small"><p> A - Introduction Couchbase Lite¬†is a non-relational database, data is stored in documents instead of table rows. A document is a JSON object that contains¬†a number of key-value pairs. Entities, an...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/android/android-couchbase-lite/" class="btn btn-outline-primary" prompt="Older"><p>Couchbase Lite</p></a> <a href="/android/property-animation-in-android/" class="btn btn-outline-primary" prompt="Newer"><p>Property Animation in Android</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//icetea09.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'File Storage in Android'; this.page.url = 'https://icedtealabs.com//android/file-storage-in-android/'; this.page.identifier = '/android/file-storage-in-android/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> ¬© 2025 <a href="https://twitter.com/trinhlbk1991">Trinh Le</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/android-ui/">Android UI</a> <a class="post-tag" href="/tags/custom-view/">Custom View</a> <a class="post-tag" href="/tags/animation/">Animation</a> <a class="post-tag" href="/tags/android-database/">Android Database</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/dagger/">Dagger</a> <a class="post-tag" href="/tags/dependency-injection/">Dependency Injection</a> <a class="post-tag" href="/tags/facebook/">Facebook</a> <a class="post-tag" href="/tags/fragment/">Fragment</a> <a class="post-tag" href="/tags/hilt/">Hilt</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://icedtealabs.com/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
