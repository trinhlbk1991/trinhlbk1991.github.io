<!DOCTYPE html><html lang="en-US" mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Android Instrumentation Test Using Espresso | Iced Tea Labs</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Iced Tea Labs"><meta name="application-name" content="Iced Tea Labs"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script defer src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.15.0,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script async src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script defer src="/app.js"></script> <script defer src="https://www.googletagmanager.com/gtag/js?id=UA-48722139-1"></script> <script> document.addEventListener("DOMContentLoaded", function(event) { window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-48722139-1'); }); </script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="/assets/images/ic_iced_tea_labs.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Iced Tea Labs</a></div><div class="site-subtitle">Glasses üëì Geek üíª Backpacker üéí Climber üßó‚Äç‚ôÇÔ∏è</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tags ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center"> <a href="https://github.com/trinhlbk1991" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/trinhlbk1991" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['trinhlbk1991','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a> <a href="https://www.linkedin.com/in/trinhlbk1991/" aria-label="linkedin" target="_blank" rel="noopener"> <i class="fab fa-linkedin"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/categories/android/"> Android </a> </span> <span>Android Instrumentation Test Using Espresso</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Android Instrumentation Test Using Espresso</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Trinh Le </span> <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Fri, Apr 8, 2016, 10:54 AM +0700" prep="on" > Apr 8, 2016 <i class="unloaded">2016-04-08T10:54:00+07:00</i> </span></div><div> <span> <span class="timeago lastmod" data-toggle="tooltip" data-placement="bottom" title="Sun, Aug 1, 2021, 12:49 PM +0700" prefix="Updated " > Aug 1, 2021 <i class="unloaded">2021-08-01T12:49:51+07:00</i> </span> </span> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="743 words">4 min</span></div></div><div class="post-content"><h2>1. Introduction</h2><h3>1.1. What is instrumentation test?</h3><p>To me, instrumentation test is simply integration test. Instrumentation test run on Android device or emulator and can access to <a target="_blank" href="http://developer.android.com/reference/android/app/Instrumentation.html">Instrumentation</a> information like Context, Activity,‚Ä¶ of the app under test.</p><h3>1.2. What is Espresso?</h3><p>Espresso is an Android testing framework using instrumentation-based test API and and works with the <a target="_blank" href="http://developer.android.com/reference/android/support/test/runner/AndroidJUnitRunner.html">AndroidJUnitRunner</a> test runner. Espresso is used to simulate user interactions within the test app and it runs really really fast!!!</p><h2>2. Set up Espresso</h2><h3>2.1. Added Espresso into build.gradle dependencies</h3><p>Add the following lines of code into <code class="language-kotlin highlighter-rouge"><span class="n">dependencies</span></code> part in your app‚Äôs <code class="language-kotlin highlighter-rouge"><span class="n">build</span><span class="p">.</span><span class="n">gradle</span></code> file:</p><figure class="highlight"><pre><code class="language-gradle" data-lang="gradle"><span class="n">androidTestCompile</span> <span class="s1">'com.android.support.test.espresso:espresso-core:2.2.2'</span>
<span class="n">androidTestCompile</span> <span class="s1">'com.android.support.test:runner:0.5'</span></code></pre></figure><h3>2.2. Update the instrumentation runner</h3><p>Inside <code class="language-kotlin highlighter-rouge"><span class="n">defaultConfig</span></code> section, update the <code class="language-kotlin highlighter-rouge"><span class="n">testInstrumentationRunner</span></code> like below:</p><figure class="highlight"><pre><code class="language-gradle" data-lang="gradle"><span class="n">defaultConfig</span> <span class="o">{</span>
      <span class="n">testInstrumentationRunner</span> <span class="s2">"android.support.test.runner.AndroidJUnitRunner"</span>
<span class="o">}</span></code></pre></figure><h3>2.3. Disable animation on test device/emulator</h3><p>To help the test run stably, you should disable all the animation on target device/emulator. Go to <b>Settings</b> ‚Üí <b>Developer Options</b>, then disable all following animations:</p><ul><li>Window animation scale<li>Transition animation scale<li>Animator duration scale</ul><h2>3. Espresso basics</h2><h3>3.1. Finding a View using View Matcher</h3><p><a target="_blank" href="http://developer.android.com/reference/android/support/test/espresso/matcher/ViewMatchers.html">ViewMatcher</a> is a collection of conditions which you can use to identify a specific View in the view hierarchy.</p><p>Some common <b>ViewMatcher</b>:</p><ul><li><b>withText(String text)</b>: Returns a matcher that matches TextView based on its text property value.<li><b>withId(int id)</b>: Returns a matcher that matches TextView based on its id property value.</ul><p>You can easily locate a View in view hierarchy by using <code class="language-kotlin highlighter-rouge"><span class="nf">onView</span><span class="p">()</span></code> with one or many <b>ViewMatcher</b>:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">onView</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_hello</span><span class="o">))</span>
<span class="c1">//Find the View which has id as tv_hello</span></code></pre></figure><p>Or</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">onView</span><span class="o">(</span><span class="n">allOf</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_hello</span><span class="o">),</span> <span class="n">withText</span><span class="o">(</span><span class="err">‚Äú</span><span class="nc">Goodbye</span><span class="err">‚Äù</span><span class="o">))</span>
<span class="c1">//Find the View which has id as tv_hello AND have text as Goodbye</span></code></pre></figure><p><b>BIG NOTE:</b></p><p>You must make sure that there‚Äôs <b>ONLY</b> one View in the hierarchy can match your input <b>ViewMatcher</b>. If there‚Äôs more than one, you‚Äôll receive an error:</p><pre>
Java.lang.RuntimeException:
com.google.android.apps.common.testing.ui.espresso.AmbiguousViewMatcherException:
This matcher matches multiple views in the hierarchy: (withId: is &lt;111111111&gt;)
</pre><h3>3.2. Perform an action using View Action</h3><p>After found the wanted View, you may want to perform some user interaction on it (like click, double click, press back, or type text,‚Ä¶). In order to do that, you will need the help of <a target="_blank" href="http://developer.android.com/reference/android/support/test/espresso/ViewAction.html">ViewAction</a>.</p><p>Some common ViewAction:</p><ul><li><b>click()</b>: Click on a specific View<li><b>typeText(String text)</b>: Type a specific text into an EditText<li><b>scrollTo()</b>: Scroll to a specific View to make sure it is visible before performing any other actions (like click())</ul><p>Example:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">onView</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btn_hello</span><span class="o">)).</span><span class="na">perform</span><span class="o">(</span><span class="n">scrollTo</span><span class="o">(),</span> <span class="n">click</span><span class="o">());</span>
<span class="c1">//If the btn_hello is not visible on screen, scroll to it, then perform a click!</span></code></pre></figure><h3>3.3. Assert the View / UI by View Assertion</h3><p><a target="_blank" href="http://developer.android.com/reference/android/support/test/espresso/ViewAssertion.html">ViewAssertions</a> takes responsibility for asserting the View in instrumentation test. You can pass as many <b>ViewAssertions</b> as you want to check if the UI displays properly.</p><p>Some common ViewAssertions:</p><ul><li><b>matches(Matcher)</b>: matches one or many conditions (Matcher)<li><b>doesNotExist()</b>: check if a View is not exist in the view hierarchy</ul><p>Example:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="n">onView</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">btn_hello</span><span class="o">)).</span><span class="na">check</span><span class="o">(</span><span class="n">matches</span><span class="o">(</span><span class="n">isDisplayed</span><span class="o">()));</span>
<span class="c1">//Check if the button btn_hello is displayed on the screen.</span></code></pre></figure><h2>4. Example</h2><p>In this part, I‚Äôll show you a very simple sample app with some basic instrumentation test using Espresso.</p><p>The demo app contains a simple Login form with validation. We‚Äôll write test to make sure it meets all the requirements below:</p><ul><li>User should be able to login if both username and password provided.<li>User should see error message when username or password missing.</ul><p>The complete test class for <code class="language-kotlin highlighter-rouge"><span class="nc">MainActivity</span></code>:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nd">@RunWith</span><span class="o">(</span><span class="nc">AndroidJUnit4</span><span class="o">.</span><span class="na">class</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MainActivityTest</span> <span class="o">{</span>

    <span class="nd">@Rule</span>
    <span class="nc">ActivityTestRule</span><span class="o">&lt;</span><span class="nc">MainActivity</span><span class="o">&gt;</span> <span class="n">activityRule</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ActivityTestRule</span><span class="o">&lt;&gt;(</span><span class="nc">MainActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">userShouldBeAbleToLoginIfUsernameAndPasswordProvided</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//Type the username</span>
        <span class="n">onView</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">et_username</span><span class="o">)).</span><span class="na">perform</span><span class="o">(</span><span class="n">typeText</span><span class="o">(</span><span class="s">"trinh.le"</span><span class="o">));</span>
        <span class="c1">//Type the password</span>
        <span class="n">onView</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">et_password</span><span class="o">)).</span><span class="na">perform</span><span class="o">(</span><span class="n">typeText</span><span class="o">(</span><span class="s">"dummypassword"</span><span class="o">));</span>
        <span class="c1">//Click on Login button, we can use withId(R.id.btn_login) instead of withText("Login")</span>
        <span class="n">onView</span><span class="o">(</span><span class="n">withText</span><span class="o">(</span><span class="s">"Login"</span><span class="o">)).</span><span class="na">perform</span><span class="o">(</span><span class="n">click</span><span class="o">());</span>
        <span class="c1">//Check if the TextView message display the proper text</span>
        <span class="n">onView</span><span class="o">(</span><span class="n">allOf</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_message</span><span class="o">),</span> <span class="n">withText</span><span class="o">(</span><span class="s">"Login successfully!"</span><span class="o">))).</span><span class="na">check</span><span class="o">(</span><span class="n">matches</span><span class="o">(</span><span class="n">isDisplayed</span><span class="o">()));</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">userShouldSeeErrorMessageIfUsernameMissing</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//Type the password</span>
        <span class="n">onView</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">et_password</span><span class="o">)).</span><span class="na">perform</span><span class="o">(</span><span class="n">typeText</span><span class="o">(</span><span class="s">"dummypassowrd"</span><span class="o">));</span>
        <span class="c1">//Click on Login button, we can use withId(R.id.btn_login) instead of withText("Login")</span>
        <span class="n">onView</span><span class="o">(</span><span class="n">withText</span><span class="o">(</span><span class="s">"Login"</span><span class="o">)).</span><span class="na">perform</span><span class="o">(</span><span class="n">click</span><span class="o">());</span>
        <span class="c1">//Check if the TextView message display the proper text</span>
        <span class="n">onView</span><span class="o">(</span><span class="n">allOf</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_message</span><span class="o">),</span> <span class="n">withText</span><span class="o">(</span><span class="s">"You must enter both username and password!"</span><span class="o">))).</span><span class="na">check</span><span class="o">(</span><span class="n">matches</span><span class="o">(</span><span class="n">isDisplayed</span><span class="o">()));</span>
    <span class="o">}</span>

    <span class="nd">@Test</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">userShouldSeeErrorMessageIfPasswordMissing</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//Type the username</span>
        <span class="n">onView</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">et_username</span><span class="o">)).</span><span class="na">perform</span><span class="o">(</span><span class="n">typeText</span><span class="o">(</span><span class="s">"trinh.le"</span><span class="o">));</span>
        <span class="c1">//Click on Login button, we can use withId(R.id.btn_login) instead of withText("Login")</span>
        <span class="n">onView</span><span class="o">(</span><span class="n">withText</span><span class="o">(</span><span class="s">"Login"</span><span class="o">)).</span><span class="na">perform</span><span class="o">(</span><span class="n">click</span><span class="o">());</span>
        <span class="c1">//Check if the TextView message display the proper text</span>
        <span class="n">onView</span><span class="o">(</span><span class="n">allOf</span><span class="o">(</span><span class="n">withId</span><span class="o">(</span><span class="no">R</span><span class="o">.</span><span class="na">id</span><span class="o">.</span><span class="na">tv_message</span><span class="o">),</span> <span class="n">withText</span><span class="o">(</span><span class="s">"You must enter both username and password!"</span><span class="o">))).</span><span class="na">check</span><span class="o">(</span><span class="n">matches</span><span class="o">(</span><span class="n">isDisplayed</span><span class="o">()));</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre></figure><p>If you notice, we have this line of code:</p><figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nd">@Rule</span>
<span class="nc">ActivityTestRule</span><span class="o">&lt;</span><span class="nc">MainActivity</span><span class="o">&gt;</span> <span class="n">activityRule</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">ActivityTestRule</span><span class="o">&lt;&gt;(</span><span class="nc">MainActivity</span><span class="o">.</span><span class="na">class</span><span class="o">);</span></code></pre></figure><p>So, This rule provides functional testing of a single activity. The activity under test will be launched before each test and terminated after the test complete.</p><p>The full source code of this demo can be found on Github - <a target="_blank" href="https://github.com/trinhlbk1991/DemoAndroidEspresso">DemoAndroidEspresso</a>.</p><h2>5. Cheat sheets</h2><p>For easier to remember, you can refer to the Espresso cheat sheet below. Goodluck! <img class="aligncenter" src="https://google.github.io/android-testing-support-library/assets/espresso-cheat-sheet-2.1.0.png" /></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/android/'>android</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/espresso/" class="post-tag no-text-decoration" >Espresso</a> <a href="/tags/testing/" class="post-tag no-text-decoration" >Testing</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Android Instrumentation Test Using Espresso - Iced Tea Labs&url=https://icedtealabs.com//android/android-instrumentation-test-using-espresso/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Android Instrumentation Test Using Espresso - Iced Tea Labs&u=https://icedtealabs.com//android/android-instrumentation-test-using-espresso/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Android Instrumentation Test Using Espresso - Iced Tea Labs&url=https://icedtealabs.com//android/android-instrumentation-test-using-espresso/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i class="fa-fw fas fa-link small" onclick="copyLink()" data-toggle="tooltip" data-placement="top" title="Copy link"></i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-tags"> <span>Our Products</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="https://play.google.com/store/apps/details?id=com.icetea09.bucketlist"><div class="d-flex align-items-center"> <img src="/assets/images/buckist.png" width="50" height="50" /><div><strong>Buckist</strong> - Best bucket list app</div></div></a> <a class="post-tag" href="https://play.google.com/store/apps/details?id=com.icedtealabs.mymoney"><div class="d-flex align-items-center"> <img src="/assets/images/mymoney.png" width="50" height="50" /><div><strong>myMoney</strong> - Expense Manager</div></div></a> <a class="post-tag" href="https://play.google.com/store/apps/details?id=com.icedtealabs.moon"><div class="d-flex align-items-center"> <img src="https://play-lh.googleusercontent.com/fh1U3sqmhbWWRiS6fjh4caslBlE86ZlJBgucayR5wko743aM_U143sHPLTVZvJuHZA=s360-rw" width="50" height="50" /><div><strong>Moon</strong> - Blue light filter, night mode</div></div></a></div></div><div id="access-tags"> <span>Trending Tags</span><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/android-ui/">Android UI</a> <a class="post-tag" href="/tags/custom-view/">Custom View</a> <a class="post-tag" href="/tags/animation/">Animation</a> <a class="post-tag" href="/tags/android-database/">Android Database</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/dagger/">Dagger</a> <a class="post-tag" href="/tags/dependency-injection/">Dependency Injection</a> <a class="post-tag" href="/tags/facebook/">Facebook</a> <a class="post-tag" href="/tags/fragment/">Fragment</a> <a class="post-tag" href="/tags/hilt/">Hilt</a></div></div></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/android/migrate-from-dagger-to-hilt-a-step-by-step-guide/"><div class="card-body"> <span class="timeago small" > Aug 1, 2021 <i class="unloaded">2021-08-01T12:05:00+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Migrate from Dagger to Hilt ‚Äî A Step by Step Guide</h3><div class="text-muted small"><p> In the previous blog post, I shared the guide to use Hilt to implement dependency injection in Android. But there‚Äôs the fact that it‚Äôs not many chances for you to use Hilt in a project from the ...</p></div></div></a></div><div class="card"> <a href="/android/android-custom-dialog/"><div class="card-body"> <span class="timeago small" > Jan 21, 2014 <i class="unloaded">2014-01-21T23:57:00+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Custom Dialog</h3><div class="text-muted small"><p> You are developing an Android app and you don‚Äôt want to use the default dialog like this: You want something is unique and customizable like this: This post will guide you how to create a cus...</p></div></div></a></div><div class="card"> <a href="/android/android-custom-toast/"><div class="card-body"> <span class="timeago small" > Jan 22, 2014 <i class="unloaded">2014-01-22T09:33:00+07:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Custom Toast</h3><div class="text-muted small"><p> A toast is a view containing a quick little message for the user. It will never receive focus and will be dismiss after a specific time. By default, if you want to call a simple Toast, all you nee...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/android/property-animation-in-android/" class="btn btn-outline-primary" prompt="Older"><p>Property Animation in Android</p></a> <a href="/android/android-dependency-injection-using-dagger2/" class="btn btn-outline-primary" prompt="Newer"><p>Android Dependency Injection using Dagger2</p></a></div><div id="disqus" class="pt-2 pb-2"><p class="text-center text-muted small pb-5"> Comments powered by <a href="https://disqus.com/">Disqus</a>.</p></div><script src="/assets/js/lib/jquery.disqusloader.min.js"></script> <script> const options = { scriptUrl: '//icetea09.disqus.com/embed.js', disqusConfig: function() { this.page.title = 'Android Instrumentation Test Using Espresso'; this.page.url = 'https://icedtealabs.com//android/android-instrumentation-test-using-espresso/'; this.page.identifier = '/android/android-instrumentation-test-using-espresso/'; } }; $.disqusLoader('#disqus', options); </script></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> ¬© 2025 <a href="https://twitter.com/trinhlbk1991">Trinh Le</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4><a class="post-tag" href="/tags/android-ui/">Android UI</a> <a class="post-tag" href="/tags/custom-view/">Custom View</a> <a class="post-tag" href="/tags/animation/">Animation</a> <a class="post-tag" href="/tags/android-database/">Android Database</a> <a class="post-tag" href="/tags/design-pattern/">Design Pattern</a> <a class="post-tag" href="/tags/dagger/">Dagger</a> <a class="post-tag" href="/tags/dependency-injection/">Dependency Injection</a> <a class="post-tag" href="/tags/facebook/">Facebook</a> <a class="post-tag" href="/tags/fragment/">Fragment</a> <a class="post-tag" href="/tags/hilt/">Hilt</a></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.7.3/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="https://icedtealabs.com/{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script>
